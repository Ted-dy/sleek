package me.kansio.client.modules.impl.exploit.disabler.misc;

import me.kansio.client.event.impl.PacketEvent;
import me.kansio.client.event.impl.UpdateEvent;
import me.kansio.client.manager.Manager;
import me.kansio.client.modules.impl.exploit.disabler.DisablerMode;
import me.kansio.client.utils.chat.ChatUtil;
import me.kansio.client.utils.network.PacketUtil;
import net.minecraft.entity.player.PlayerCapabilities;
import net.minecraft.network.NetHandlerPlayServer;
import net.minecraft.network.Packet;
import net.minecraft.network.login.server.S00PacketDisconnect;
import net.minecraft.network.play.INetHandlerPlayServer;
import net.minecraft.network.play.client.*;
import net.minecraft.network.play.server.S08PacketPlayerPosLook;
import org.apache.commons.lang3.RandomUtils;

import java.util.LinkedList;

public class Ghostly extends DisablerMode {
    LinkedList<Packet<? extends INetHandlerPlayServer>> packetQueue = new LinkedList<>();

    public Ghostly() {
        super("Ghostly Full");
    }

    boolean tp = false;

    @Override
    public void onEnable() {

    }

    @Override
    public void onUpdate(UpdateEvent event) {

    }

    @Override
    public void onPacket(PacketEvent event) {
        if (event.getPacket() instanceof C03PacketPlayer) {
            C03PacketPlayer c03PacketPlayer = event.getPacket();
            c03PacketPlayer.onGround = true;

            PacketUtil.sendPacketNoEvent(new C0CPacketInput(Float.MIN_VALUE, Float.MIN_VALUE, RandomUtils.nextInt(0, 1) == 0, RandomUtils.nextInt(0, 1) == 0));
        }

        if (event.getPacket() instanceof C0FPacketConfirmTransaction) {
            event.setCancelled(true);
        }
    }
}
